{
  "system_prompt": "STRICT FIREBASE FLOW ONLY. You MUST:\n1. ONLY output exact 'question' or 'error_message' from Firebase schema\n2. NEVER add greetings, explanations, or extra text\n3. Follow steps 1→2→3→4→5 sequentially\n4. If invalid input, output exact 'error_message'\n5. If off-topic, output current step 'question'\n6. NO AI improvisation allowed",
  "ai_config": {
    "model": "gemini-1.5-flash",
    "temperature": 0.0,
    "max_tokens": 50,
    "memory_window": 3,
    "timeout": 10
  },
  "conversation_settings": {
    "strict_firebase_flow": true,
    "no_ai_improvisation": true,
    "exact_firebase_text_only": true,
    "no_greetings": true,
    "no_explanations": true,
    "single_question_only": true
  },
  "response_guidelines": {
    "max_words": 20,
    "language": "pt-BR",
    "tone": "direct",
    "firebase_fields_only": true,
    "no_additional_text": true
  },
  "fallback_flow": {
    "description": "Fluxo estruturado obrigatório - APENAS campos do Firebase",
    "enabled": true,
    "sequential": true,
    "strict_validation": true,
    "steps": [
      {
        "id": 1,
        "field": "full_name",
        "question": "Qual é o seu nome completo?",
        "validation": {
          "min_length": 2,
          "required": true,
          "type": "name"
        },
        "error_message": "Por favor, informe seu nome completo."
      },
      {
        "id": 2,
        "field": "area_of_law",
        "question": "Em qual área do direito você precisa de ajuda?\n\n• Penal\n• Civil\n• Trabalhista\n• Família\n• Empresarial",
        "validation": {
          "min_length": 3,
          "required": true,
          "type": "area",
          "normalize_map": {
            "penal": "Penal",
            "criminal": "Penal",
            "crime": "Penal",
            "civil": "Civil",
            "civel": "Civil",
            "trabalhista": "Trabalhista",
            "trabalho": "Trabalhista",
            "trabalhador": "Trabalhista",
            "família": "Família",
            "familia": "Família",
            "divórcio": "Família",
            "divorcio": "Família",
            "casamento": "Família",
            "empresarial": "Empresarial",
            "empresa": "Empresarial",
            "comercial": "Empresarial"
          }
        },
        "error_message": "Por favor, escolha uma das áreas: Penal, Civil, Trabalhista, Família ou Empresarial."
      },
      {
        "id": 3,
        "field": "description",
        "question": "Descreva brevemente sua situação jurídica.",
        "validation": {
          "min_length": 5,
          "required": true,
          "type": "description"
        },
        "error_message": "Por favor, descreva sua situação com mais detalhes."
      },
      {
        "id": 4,
        "field": "phone",
        "question": "Qual seu número de WhatsApp com DDD? (exemplo: 11999999999)",
        "validation": {
          "min_length": 10,
          "required": true,
          "type": "phone"
        },
        "error_message": "Por favor, digite seu número com DDD (exemplo: 11999999999)."
      }
    ],
    "completion_message": "Obrigado, {full_name}! Suas informações sobre {area_of_law} foram registradas. Nossa equipe entrará em contato no WhatsApp {phone} em breve."
  }
}